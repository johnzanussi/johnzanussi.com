---
title: Rack Mounting Home Assistant Yellow
excerpt: I designed and 3D printed a custom panel for rack mounting the new Home Assistant Yellow and a Raspberry Pi 4.
cover: "@/content/posts/rack-mounting-home-assistant-yellow/cover-rack-mounted-home-assistant-yellow.jpg"
date: '2022-12-27'
hasAmazonLinks: true
---

I've been running Home Assistant for quite some time. I use it to control the roughly 75 devices and integrations in my home. I currently run HA on a dedicated Raspberry Pi 4 Model B with the [Recorder](https://www.home-assistant.io/integrations/recorder/) database stored on a Synology NAS on the same network. While I've had no complaints about the performance and reliability of this setup, I was very excited when the HA team announced that they were working on a purpose-built device called [Home Assistant Yellow](https://www.home-assistant.io/blog/2021/09/13/home-assistant-yellow/). Among many other features, the Yellow runs on a Raspberry Pi Compute Module 4 and supports dedicated SSD storage.

The Pi that currently runs HA, lives in my small home [8U network rack](https://amzn.to/3uu2xap) next to another Pi running [Pi-hole](https://pi-hole.net/). I rack mounted the Pis thanks to the [Raspberry Pi Rack Mount model on Thingiverse](https://www.thingiverse.com/thing:4167265) and this [1U Decora Rack Panel](https://www.ebay.com/itm/264097865148). While this has worked fine, it always bothered me that half of 1U went unused. Of course, this left space for more Pis, but it's been a couple of years, and that space has remained empty.

![8U network rack with devices in it](@/content/posts/rack-mounting-home-assistant-yellow/network-rack-v1.jpg)

Knowing I also wanted to rack mount the HA Yellow, I would need to find a new space for it. An obvious option would be to swap the Pi with the Yellow, but this would still leave me with half the space unused. And if I moved the Yellow out of that panel, I'd be left only using a quarter of the available space. With limited vertical space in the 8U rack, I set out to find a better solution using more horizontal space.

Fortunately (unfortunately?), I had eight months to wait for the Yellow to arrive. During that time, I kept an eye out for possible solutions and watched as some of the [YouTubers](/youtube) in the home automation space began to receive their devices. Eventually, I came across this [modular patch panel](https://amzn.to/3Uz16SN) on Amazon.

In my current rack, I only use about half the keystones in the patch panel, and the other half remains empty. And since the ports on both switches are on the right side, I have to use longer patch panels to connect them to the leftmost keystone patches. A better and more common solution would be to use two patch panels utilizing the right half of both. However, this means even more empty horizontal space in the rack.

The way I saw it, these were the problems I was trying to solve.
* Fit everything neatly in the existing 8U rack
* Maximize horizontal space
* Rack-mounted HA Yellow and Raspberry Pi
* Neater patch cables

With the new modular panel, I can split it up using as many or as few of the four sections as I want for keystone jacks and the remaining for whatever else.

I knew there wouldn't be any off-the-shelf product for mounting the HA Yellow (or any other device) in that patch panel which created an opportunity for me to design and print it myself. Over the past year or so, I've been working to improve my Fusion 360 skills, so this would be the perfect chance to apply what I've learned and model something myself.

First, I iterated through the process of measuring the included module, modeling in F360, and printing prototypes to get a panel that matched the original modules.

![Screenshot of rack module Fusion 360 model](@/content/posts/rack-mounting-home-assistant-yellow/rack-module-frame-f360-model.jpg)

![Custom printed and original panel modules](@/content/posts/rack-mounting-home-assistant-yellow/custom-and-original-panel-modules.jpg)

Creating the after-market part gave me a module I could use as a base for future variations. Unfortunately, the HA Yellow device is wider than the opening for each module in the patch panel. That meant I had to scrap most of the model I had just created. However, it would be helpful later for mounting a Raspberry Pi.

From there, I spent a few weeks slowly creating and iterating through designs and prints, resulting in the following.

![Screenshot of HA Yellow Fusion 360 model](@/content/posts/rack-mounting-home-assistant-yellow/ha-yellow-mount-f360-model.jpg)

![Corner view of HA Yellow in 3D printed rack mount panel](@/content/posts/rack-mounting-home-assistant-yellow/ha-yellow-rack-mount-corner-view.jpg)

![Front view of HA Yellow in 3D printed rack mount panel](@/content/posts/rack-mounting-home-assistant-yellow/ha-yellow-rack-mount-front-view.jpg)

![Back view of HA Yellow in 3D printed rack mount panel](@/content/posts/rack-mounting-home-assistant-yellow/ha-yellow-rack-mount-back-view.jpg)

Unlike the original modules that slide in from the front of the panel, this one slides in from behind the panel. Swapping the Yellow in and out requires unscrewing and removing the entire panel from the rack. Removing the panel isn't the end of the world, as I don't imagine I'll need to mess with it after installation.

![Rack mounted HA Yellow](@/content/posts/rack-mounting-home-assistant-yellow/rack-mounted-ha-yellow.jpg)

The design I settled on fits in the leftmost opening in the panel. However, it could be modified to fit in the other slots. Wherever it goes, a minor modification of the adjacent modules is needed. In this case, I used a pair of flush cutters to create a small notch in the bottom corner of the adjoining keystone module.

![Modification of original panel module notch cut in corner](@/content/posts/rack-mounting-home-assistant-yellow/original-panel-module-modification.jpg)

I'm super happy with this solution. The only thing missing is easy access to the status LEDs on the side of the Yellow. I've been going back and forth on whether I should sell the STL file and a printed version for those without a printer. I am still deciding what to do, so let me know what you think in the comments.

To keep things super clean, I bought [USB keystone inserts](https://amzn.to/3Vr71tA) and [short USB cables](https://amzn.to/3VuDoHw) to extend the two Yellow USB ports out the back of the rack for my Z-Wave and Zigbee antennas. I also created a custom barrel jack keystone and a barrel jack patch cable for passing power to the HA Yellow.

![Custom barrel jack keystone insert](@/content/posts/rack-mounting-home-assistant-yellow/barrel-jack-keystone-insert.jpg)

![Front view of patch panel with USB, Ethernet, and custom barrel jack keystone inserts](@/content/posts/rack-mounting-home-assistant-yellow/ha-yellow-rack-mount-patch-panel-front-view.jpg)

![Back view of patch panel with USB, Ethernet, and custom barrel jack keystone inserts](@/content/posts/rack-mounting-home-assistant-yellow/ha-yellow-rack-mount-patch-panel-back-view.jpg)

With the Yellow device now mounted, I could move on to mounting the Raspberry Pi. Designing this model was much easier as the Pi's width was smaller than the module's opening. I could use the original model from above, add a solid face, cut out the spaces for the Pi's ports, and add horizontal support. Creating the Pi mount only took a few iterations before landing on the following, which I have made available for [free on Printables.com](https://www.printables.com/model/338761-raspberry-pi-4-patch-panel-rack-mount).

![Screenshot of Raspberry Pi 4 panel module Fusion 360 model](@/content/posts/rack-mounting-home-assistant-yellow/raspberry-pi-4-rack-mount-panel-f360-model.jpg)

![Corner view of Raspberry Pi 4 panel module](@/content/posts/rack-mounting-home-assistant-yellow/raspberry-pi-4-rack-mount-panel-corner-view.jpg)

The module pops in and out easily, allowing quick access to the side ports and SD card if needed. However, I am using a [PoE hat](https://amzn.to/3vl0kyv), so I don't think I'll be removing it much during its lifetime in the rack.

In addition to everything above, I made general improvements to the rack. Since the rack lives in my unfished basement, I added a backing sheet of plywood for better rack support and a place to attach cable management. I also added a shelf for the UPS and NAS to sit on instead of atop the rack.

I still have some cable management to do, but this is what the setup looks like now.

![8U home network rack](@/content/posts/rack-mounting-home-assistant-yellow/8u-network-rack.jpg)

![8U home network rack with shelf](@/content/posts/rack-mounting-home-assistant-yellow/8u-network-rack-with-shelf.jpg)

Going back to the list of problems to solve, I checked them all off.

* ✅ Fit everything neatly in the existing 8U rack
* ✅ Maximize horizontal space
* ✅ Rack-mounted HA Yellow and Raspberry Pi
* ✅ Neater patch cables

I love projects like this, where I can solve a problem with the combination of novel ideas, CAD, and 3D printing.
